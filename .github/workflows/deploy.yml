name: Deploy to Aruba Shared Hosting

on:
  push:
    branches:
      - main  # Change this if your branch is named 'master'

jobs:
  web-deploy:
    name: Deploy
    runs-on: ubuntu-latest
    steps:
    - name: Get latest code
      uses: actions/checkout@v4
    
    # Optional: Add build steps here if you use React/Vue/etc.
    # - name: Build Project
    #   run: |
    #     npm install
    #     npm run build

    - name: Sync files
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        protocol: ftps
        # 'local-dir' depends on your project. 
        # Use './' for simple PHP/HTML. Use './dist/' or './build/' for React/Vue.
        local-dir: ./volley-web/ 
        # Aruba usually requires files to be in the root or a specific folder like /www
        # Leave this as ./ if your FTP user lands directly in the public folder.
        server-dir: ./volley/